"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[878],{5962:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var r=t(7895),l=t(579);const a=()=>(0,l.jsx)("div",{className:" inset-0 z-50 fixed flex justify-center items-center backdrop-blur",children:(0,l.jsx)(r.su,{visible:!0,height:"100",width:"100",color:"#F97316",ariaLabel:"line-wave-loading",wrapperStyle:{},wrapperClass:"",firstLineColor:"",middleLineColor:"",lastLineColor:""})})},9878:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var r=t(5043),l=t(1110),a=t(3003),n=t(184);const d=t.p+"static/media/cash.bc467991373184fa645d585b5550752e.svg";const o=t.p+"static/media/mastercard.9812fad7d4e0dfb36f04c630a336ce5a.svg";const c=t.p+"static/media/visa.a75efab78ef70440795f45c363d6fd98.svg";var i=t(579);const x=e=>{let{amount:s,setAmount:t}=e;const[l,a]=(0,r.useState)(!1),n=e=>{if(s.length>11)return null;l?(t(String(parseFloat(s)+Number(e))),a(!1)):t(s+e)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{className:"text-md font-semibold",children:"Pay"}),(0,i.jsx)("div",{className:"py-2",children:(0,i.jsx)("input",{type:"text",className:"w-full focus:outline-none px-10 py-3 md:px-16 border rounded-2xl border-gray-400 focus:border-orange-500\r ",readOnly:!0,maxLength:12,value:s,placeholder:"Amount"})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-4 text-center gap-2 items-center",children:[(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(1),children:"1"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(2),children:"2"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(3),children:"3"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold text-blue-500 cursor-pointer",onClick:()=>n(10),children:"10"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(4),children:"4"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(5),children:"5"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(6),children:"6"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold text-blue-500 cursor-pointer",onClick:()=>n(20),children:"20"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(7),children:"7"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(8),children:"8"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(9),children:"9"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-orange-200 text-orange-500  font-semibold text-center cursor-pointer",onClick:()=>{t(s.slice(0,-1)||"")},children:"Back"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-orange-200 text-orange-500 font-semibold cursor-pointer",onClick:()=>t(""),children:"C"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>n(0),children:"0"}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>t((e=>e+".")),children:"."}),(0,i.jsx)("button",{className:"w-20 h-12 rounded-full bg-blue-200 font-semibold cursor-pointer",onClick:()=>a(!0),children:"Add"})]})]})};var m=t(5394),u=t(9342);const h=e=>{let{open:s,close:t,Order:r}=e;return s?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:" fixed inset-0 backdrop-blur-sm flex justify-center items-center z-50",children:(0,i.jsxs)("div",{className:"border h-5/6 mx-auto text-center rounded-lg bg-white shadow-lg w-3/6 px-3 py-4",children:[(0,i.jsxs)("div",{className:"py-2 h-[20%]",children:[(0,i.jsx)("h1",{className:" text-lg font-bold",children:"Order Details"}),(0,i.jsxs)("div",{className:"px-4 py-2",children:[(0,i.jsxs)("ul",{className:" flex justify-between text-sm text-gray-400 items-center",children:[(0,i.jsxs)("li",{children:["Order ID - ",r._id]}),(0,i.jsxs)("li",{children:["Table - ",r.table.Tablename]})]}),(0,i.jsxs)("ul",{className:" flex justify-between text-gray-400 text-sm items-center",children:[(0,i.jsxs)("li",{children:["Customer - ",r.customername]}),(0,i.jsxs)("li",{children:["Date - ",new Date(r.Date).toDateString()]})]})]})]}),(0,i.jsx)("div",{className:" px-4 h-[70%] overflow-auto",children:(0,i.jsxs)("table",{className:"w-full table-auto",children:[(0,i.jsx)("thead",{className:" text-sm font-semibold text-gray-400 border-b-2 border-slate-300 border-double ",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"text-start  py-3",children:"ITEM NAME"}),(0,i.jsx)("th",{className:"text-center py-3",children:"QTY"}),(0,i.jsx)("th",{className:"text-center py-3",children:"PRICE"}),(0,i.jsx)("th",{className:"text-center py-3",children:"SUB TOTAL"})]})}),(0,i.jsx)("tbody",{className:" text-gray-800",children:r.items.map(((e,s)=>(0,i.jsxs)("tr",{className:"border-b border-slate-300 table-row",children:[(0,i.jsx)("td",{className:"text-start py-3\r ",children:e.item.item}),(0,i.jsxs)("td",{className:"text-center py-3\r ",children:["$",e.quantity]}),(0,i.jsxs)("td",{className:"text-center py-3\r ",children:["$",e.item.price]}),(0,i.jsxs)("td",{className:"text-center py-3\r ",children:["$",e.quantity*e.item.price]})]},s)))}),(0,i.jsxs)("tfoot",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{colSpan:3,className:" text-end text-gray-400",children:"SUBTOTAL"}),(0,i.jsxs)("td",{colSpan:3,className:" text-center",children:["$ ",r.totalamount]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{colSpan:3,className:" text-end text-gray-400",children:"TAX"}),(0,i.jsx)("td",{colSpan:3,className:" text-center",children:"$ 0.00"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{colSpan:3,className:" text-end text-orange-500 text-md font-semibold",children:"BILL AMOUNT"}),(0,i.jsxs)("td",{colSpan:3,className:" text-center  text-orange-500 text-md font-semibold",children:["$ ",r.totalamount]})]})]})]})}),(0,i.jsxs)("div",{className:" border-t border-slate-300 flex justify-between py-2 px-4 h-[20%]",children:[(0,i.jsx)("div",{children:r.paid&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h6",{className:" text-gray-400 text-sm",children:"Paymode"}),"cash"===r.paymentMode&&(0,i.jsx)("img",{src:d,alt:"cash",className:"w-10"}),"mastercard"===r.paymentMode&&(0,i.jsx)("img",{src:o,alt:"mastercard",className:"w-10"}),"visa"===r.paymentMode&&(0,i.jsx)("img",{src:c,alt:"visa",className:"w-10"})," "]})}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{onClick:()=>t(),className:" bg-orange-500 rounded-lg text-white w-16 h-8 hover:bg-orange-400",children:"Close"})})]})]})})}):null};var b=t(3768),j=t(5962);const p=e=>{let{open:s,close:t,Order:p}=e;const[f,g]=(0,r.useState)(""),[N,y]=(0,r.useState)(""),[v,w]=(0,r.useState)(!1),[C,k]=(0,r.useState)(p.paid),S=(0,a.wA)(),{status:A,code:O}=(0,a.d4)(l.Uw);(0,r.useEffect)((()=>(200===O?"loading"!==A&&"Success"!==A&&"Payment Success"===A&&b.oR.success(A):500!==O&&404!==O||b.oR.error(A),()=>S((0,l.tP)()))),[A,O]);const T=s?" relative right-0 w-2/6 bg-white transform translate-x-0 transition ease-in-out duration-1000":" relative right-0 w-2/6 bg-white transform translate-x-full transition ease-in-out duration-100";return s?(0,i.jsxs)(i.Fragment,{children:["loading"===A&&(0,i.jsx)(j.A,{}),(0,i.jsx)(b.l$,{}),v&&(0,i.jsx)(h,{open:v,close:()=>{w(!1)},Order:p}),(0,i.jsx)("div",{className:"inset-0 fixed z-40 backdrop-brightness-75 flex justify-end",children:(0,i.jsx)("div",{className:T,children:(0,i.jsxs)("div",{className:"h-full mx-auto px-6 py-5 flex flex-col justify-evenly gap-3",children:[(0,i.jsxs)("div",{className:"",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row border-b border-slate-300  justify-between ",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:" text-lg font-semibold",children:"Order Payment"}),(0,i.jsxs)("h6",{className:"text-base text-gray-300",children:["OrderId: ",p.id]})]}),(0,i.jsx)(n.yyx,{onClick:()=>{t()},className:" cursor-pointer"})]}),(0,i.jsx)("div",{className:" px-5 py-2 ",children:(0,i.jsx)("div",{className:" bg-slate-100 py-4 rounded-md",children:(0,i.jsxs)("div",{className:" flex flex-col justify-center items-center md:flex-row md:justify-around ",children:[(0,i.jsx)("p",{className:" text-gray-500 text-center",children:"Total Amount"}),(0,i.jsxs)("p",{className:" text-orange-500",children:["$",p.totalamount]})]})})}),(0,i.jsxs)("div",{className:" px-5 py-2",children:[(0,i.jsx)("h6",{className:"text-md font-semibold",children:"Payment Method"}),(0,i.jsxs)("div",{className:" flex justify-around items-center pt-2",children:[(0,i.jsx)("button",{className:"cash"===f?" rounded border  border-orange-500 cursor-pointer":" rounded border  border-slate-300 cursor-pointer  hover:border-orange-500",onClick:()=>g("cash"),children:(0,i.jsx)("img",{src:d,alt:"cash"})}),(0,i.jsx)("button",{className:"mastercard"===f?" rounded border  border-orange-500 cursor-pointer":" rounded border  border-slate-300 cursor-pointer  hover:border-orange-500",onClick:()=>g("mastercard"),children:(0,i.jsx)("img",{src:o,alt:"mastercard"})}),(0,i.jsx)("button",{className:"visa"===f?" rounded border  border-orange-500 cursor-pointer":" rounded border  border-slate-300 cursor-pointer  hover:border-orange-500",onClick:()=>g("visa"),children:(0,i.jsx)("img",{src:c,alt:"visa"})})]})]})]}),(0,i.jsx)("div",{className:"px-5",children:(0,i.jsx)(x,{amount:N,setAmount:y})}),(0,i.jsx)("div",{className:"px-5",children:(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("button",{className:" bg-black text-white rounded-2xl  flex flex-col justify-center items-center w-32 h-14",onClick:e=>{w(!0)},children:[(0,i.jsx)(m.ryK,{}),(0,i.jsx)("span",{children:"View"})]}),(0,i.jsxs)("button",{className:" bg-orange-500 text-white rounded-2xl  flex flex-col justify-center items-center w-32 h-14 ",onClick:()=>{if(!f||""===f)return b.oR.error("select payment");if(parseFloat(p.totalamount)!==parseFloat(N))return b.oR.error("Invalid Amount");let e={paid:!0,paymentMode:f,id:p.id};S((0,l.iY)(e)),k(!0)},disabled:C,children:[(0,i.jsx)(u.RXm,{}),(0,i.jsx)("span",{children:"Done"})]})]})})]})})})]}):null},f=()=>{const e=(0,a.d4)(l.M7),{status:s}=(0,a.d4)(l.Uw),[t,n]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),[c,x]=(0,r.useState)({}),m=(0,a.wA)();(0,r.useEffect)((()=>{m((0,l.Vd)())}),[]);return(0,i.jsxs)(i.Fragment,{children:["loading"===s&&(0,i.jsx)(j.A,{}),t&&(0,i.jsx)(p,{open:t,close:()=>{x({}),n(!1)},Order:c}),d&&(0,i.jsx)(h,{open:d,close:()=>{x({}),o(!1)},Order:c}),(0,i.jsx)("div",{className:" bg-slate-100 px-4 py-3 overflow-auto h-[calc(100vh-70px)] ",children:(0,i.jsxs)("div",{className:" grid grid-col-1 sm:grid-col-2 md:grid-cols-3 lg:grid-col-4 gap-2",children:[0===e.length&&(0,i.jsx)("p",{className:" text-slate-500 text-center font-medium text-xl",children:"No orders Found..."}),e.map((e=>(0,i.jsxs)("div",{className:" bg-white p-4 rounded-lg shadow-lg cursor-pointer",onClick:e.paid?()=>(x(e),void o(!0)):()=>(x(e),void n(!0)),children:[(0,i.jsxs)("div",{className:" border-b border-slate-200 flex justify-between pb-1",children:[(0,i.jsx)("div",{className:" text-gray-600 font-semibold",children:e.table.Tablename}),(0,i.jsx)("div",{className:e.paid?"rounded-md bg-green-400 text-white px-2":"rounded-md bg-yellow-400 text-white px-2",children:e.paid?"Paid":"Pending"})]}),(0,i.jsx)("div",{className:" w-full border-b border-slate-200 pb-1",children:(0,i.jsx)("table",{className:"text-slate-400",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Customer Name - "}),(0,i.jsxs)("td",{children:[" ",e.customername]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Order Date"}),(0,i.jsx)("td",{children:new Date(e.Date).toLocaleString()})]})]})})}),(0,i.jsxs)("div",{className:" border-b border-slate-200 flex justify-between py-1",children:[(0,i.jsx)("div",{className:" text-gray-600",children:"Amount"}),(0,i.jsx)("div",{className:"text-orange-500 font-bold px-2",children:e.totalamount})]})]},e._id)))]})})]})}}}]);
//# sourceMappingURL=878.b039200c.chunk.js.map